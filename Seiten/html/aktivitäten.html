<!DOCTYPE html>
<html lang="de">

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aktivit√§ten</title>
  <link rel="icon" type="image/x-icon" href="../Bilder/favicon-32x32.png">
  <!-- Globale Styles -->
  <link rel="stylesheet" href="../css/styles.css">
  <!-- Spezifische Styles -->
  <link rel="stylesheet" href="../css/aktivit√§ten.css">

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <a href="../html/Homepage.html" class="logo">
      <img src="../Bilder/Logo.png" alt="MediAssist Logo">
    </a>
    <div class="tools">
      <!-- Sprach-Dropdown -->
      <div class="language-switcher">
        <button id="lang-button" type="button" aria-haspopup="true" aria-controls="lang-dropdown" aria-expanded="false">
          DE <span class="arrow">‚ñæ</span>
        </button>
        <ul id="lang-dropdown" class="lang-dropdown" role="menu">
          <li role="menuitem" tabindex="-1" data-lang="de">DE</li>
          <li role="menuitem" tabindex="-1" data-lang="en">EN</li>
        </ul>
      </div>

      <!-- Login-Pop-up -->
      <div class="login-wrapper">
        <div class="login-icon" id="login-icon" title="Konto" aria-haspopup="true" aria-controls="login-menu" aria-expanded="false">
          <img src="../Bilder/login-icon.png" alt="User">
        </div>
        <ul id="login-menu" class="login-menu" role="menu" aria-hidden="true">
          <li role="menuitem"><a href="../html/rechnung.html">Rechnungen</a></li>
          <li role="menuitem"><a href="../index.html">Ausloggen</a></li>
        </ul>
      </div>
    </div>
  </header>

  <main>
    <a href="../html/Patienten.html" class="back-link">&larr; Zur√ºck zur Patientenliste</a>
    <h1 class="animate__animated animate__zoomIn">Begleitprotokolle</h1>
    <h2 id="patient-name" class="patient-name">Patient: ‚Äî</h2>

    <!-- Kontext-Men√º (unver√§ndert) -->
    <div id="context-menu" class="context-menu" style="display: none; position: absolute;">
      <button id="edit-button">üõ†Ô∏è Bearbeiten</button>
      <button id="delete-button">üóëÔ∏è L√∂schen</button>
    </div>

    <!-- Modal f√ºr Bearbeiten (nur Datum hinzugef√ºgt) -->
    <div id="edit-modal-overlay" class="modal-overlay" style="display: none;">
      <div class="modal">
        <h2>üõ†Ô∏è Aktivit√§t bearbeiten</h2>

        <label for="modal-date">Datum:</label>
        <input type="date" id="modal-date" />

        <label for="modal-name">Name der Aktivit√§t:</label>
        <input type="text" id="modal-name" />

        <label for="modal-beginn">Beginn der Aktivit√§t:</label>
        <input type="time" id="modal-beginn" />

        <label for="modal-ende">Ende der Aktivit√§t:</label>
        <input type="time" id="modal-ende" />

        <label for="modal-Notiz">Notiz:</label>
        <input type="text" id="modal-Notiz" />

        <div class="modal-buttons">
          <button id="modal-save">Fertig</button>
          <button id="modal-cancel">Abbrechen</button>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- Linke Seite: Formular (unver√§ndert) -->
      <div class="form-section animate__animated animate__fadeInLeft">
        <summary style="font-size: 1.2em; cursor: pointer;">Begleitprotokoll erstellen</summary>
        <div style="margin-top: 10px;">
          <p>Datum</p>
          <input type="date" id="date">
          <p>Name der Aktivit√§t</p>
          <input type="text" id="nameDerAktivit√§t" placeholder="Name der Aktivit√§t">
          <p>Beginn der Aktivit√§t</p>
          <input type="time" id="beginn" min="04:00" max="23:00" step="900" placeholder="Beginn">
          <p>Ende der Aktivit√§t</p>
          <input type="time" id="ende" min="04:00" max="23:00" step="900">
          <p>Notizen</p>
          <input type="text" id="notitz" placeholder="Notiz">
          <button id="add-button">Hinzuf√ºgen</button>
        </div>
      </div>

      <!-- Rechte Seite: Tabelle -->
      <div class="tabelle-section animate__animated animate__fadeInRight">
        <div class="table-header">
          <h2>üìã Aktivit√§ten-Tabelle</h2>
          <div class="filter-container">
            <img id="filter-toggle" class="filter-icon" src="../Bilder/sortieren.png" alt="sortieren" />
            <div id="filter-dropdown" class="filter-dropdown">
              <button class="sort-button" data-sort="neueste"><span>Neueste zuerst</span><img class="tick-icon" src="../Bilder/tick.png" alt="‚úì" /></button>
              <button class="sort-button" data-sort="aelteste"><span>√Ñlteste zuerst</span><img class="tick-icon" src="../Bilder/tick.png" alt="‚úì" /></button>
            </div>
          </div>
        </div>
        <table id="aktivit√§tenTabelle">
          <thead>
            <tr>
              <th>Datum</th>
              <th>Aktivit√§t</th>
              <th>Beginn</th>
              <th>Ende</th>
              <th>Notiz</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dynamisch eingef√ºgt -->
          </tbody>
        </table>
      </div>
    </div>

    <script src="../Scripts/Fehlererkennung.js"></script>
    <script src="../Scripts/aktivit√§ten.js"></script>
    <script src="../Scripts/sprachauswahl_aktivit√§ten.js"></script>
  </main>
</body>

</html>
